package com.promineotech.plums.controller;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;

import com.promineotech.plums.controller.support.GetBookListTestSupport;
import com.promineotech.plums.entity.Book;
import com.promineotech.plums.entity.Genre;

@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
class GetBookListTest extends GetBookListTestSupport {

	@Test
	void testThatRetrievesEntireBookListByBookNumberOrGenre() {
		
		// Given: a request for the current book list either by book number or genre
		Genre input_genre = Genre.JAVA;
		Integer book_number = 12;
		String uri = String.format("%s?input_genre=%s&book_number=%d", getBaseUri(), input_genre, book_number);
		

		// When: a connection is made to the URI
		getRestTemplate().getForEntity(uri, Book.class);
		
				
		// Then: a success (OK - 200) status code is returned 
	}

}
